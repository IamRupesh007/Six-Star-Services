{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\Project\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\Project\\\\Frontend\\\\src\\\\pages\\\\registration\\\\index.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport RegistrationForm from \"../../components/registration\";\nimport { CUSTOMER, SERVICE_PROVIDER } from \"../../constants/otherConstants\";\nimport { register } from \"../../redux/services/services\";\n\nvar RegistrationScreen = function RegistrationScreen(props) {\n  var userType = props.userType;\n  var title = \"\";\n\n  var onSubmit = function onSubmit(req) {\n    var userType = props.userType,\n        register = props.register;\n    var userUrl = \"user\";\n\n    if (userType === SERVICE_PROVIDER) {\n      userUrl = \"provider\";\n    }\n\n    register({\n      userUrl: userUrl,\n      req: req\n    });\n  };\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      message = _useState4[0],\n      setMessage = _useState4[1];\n\n  useEffect(function () {\n    var error = props.error,\n        response = props.response;\n\n    if (error) {\n      setMessage(error.message);\n      setError(true);\n    }\n\n    setTimeout(function () {\n      setMessage(\"\");\n      setError(false);\n    }, 5000);\n\n    if (Object.keys(response).length > 0) {\n      setMessage(\"Registration Successful\");\n    }\n\n    setTimeout(function () {\n      setMessage(\"\");\n    }, 10000);\n  }, [props.error, props.response]);\n\n  switch (userType) {\n    case CUSTOMER:\n      title = \"Customer\";\n      break;\n\n    case SERVICE_PROVIDER:\n      title = \"Service Provider\";\n      break;\n\n    default:\n      title = \"Customer\";\n      break;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"meta\", {\n    charSet: \"utf-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, title, \" Registration\")), /*#__PURE__*/React.createElement(RegistrationForm, {\n    message: message,\n    error: error,\n    onSubmit: onSubmit,\n    userType: userType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    error: state.registerReducer.error,\n    response: state.registerReducer.registerResponse\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    register: register\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegistrationScreen);","map":{"version":3,"names":["React","useEffect","useState","Helmet","bindActionCreators","connect","RegistrationForm","CUSTOMER","SERVICE_PROVIDER","register","RegistrationScreen","props","userType","title","onSubmit","req","userUrl","error","setError","message","setMessage","response","setTimeout","Object","keys","length","mapStateToProps","state","registerReducer","registerResponse","mapDispatchToProps","dispatch"],"sources":["C:/Users/Lenovo/Desktop/Project/Frontend/src/pages/registration/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport RegistrationForm from \"../../components/registration\";\r\nimport { CUSTOMER, SERVICE_PROVIDER } from \"../../constants/otherConstants\";\r\nimport { register } from \"../../redux/services/services\";\r\n\r\nconst RegistrationScreen = (props) => {\r\n  const { userType } = props;\r\n  let title = \"\";\r\n\r\n  const onSubmit = (req) => {\r\n    const { userType, register } = props;\r\n\r\n    let userUrl = \"user\";\r\n    if (userType === SERVICE_PROVIDER) {\r\n      userUrl = \"provider\";\r\n    }\r\n    register({ userUrl, req });\r\n  };\r\n\r\n  const [error, setError] = useState(false);\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const { error, response } = props;\r\n\r\n    if (error) {\r\n      setMessage(error.message);\r\n      setError(true);\r\n    }\r\n    setTimeout(() => {\r\n      setMessage(\"\");\r\n      setError(false);\r\n    }, 5000);\r\n\r\n    if (Object.keys(response).length > 0) {\r\n      setMessage(\"Registration Successful\");\r\n    }\r\n    setTimeout(() => {\r\n      setMessage(\"\");\r\n    }, 10000);\r\n  }, [props.error, props.response]);\r\n\r\n  switch (userType) {\r\n    case CUSTOMER:\r\n      title = \"Customer\";\r\n      break;\r\n    case SERVICE_PROVIDER:\r\n      title = \"Service Provider\";\r\n      break;\r\n    default:\r\n      title = \"Customer\";\r\n      break;\r\n  }\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>{title} Registration</title>\r\n      </Helmet>\r\n      <RegistrationForm\r\n        message={message}\r\n        error={error}\r\n        onSubmit={onSubmit}\r\n        userType={userType}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  error: state.registerReducer.error,\r\n  response: state.registerReducer.registerResponse,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators({ register }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegistrationScreen);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}